---
import { getLangFromUrl, useTranslations, SERVICES_DATA } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const services = SERVICES_DATA[lang];
---

<section id="servicios" class="py-20 bg-stone-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl font-bold text-stone-900 sm:text-4xl">{t('services.title')}</h2>
      <p class="mt-4 text-xl text-stone-600">{t('services.subtitle')}</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      {services.map((service) => (
        <div class="bg-white rounded-2xl shadow-sm hover:shadow-md transition-shadow overflow-hidden group">
          <div class="h-48 overflow-hidden">
            <img 
              src={service.image} 
              alt={service.title} 
              class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
            />
          </div>
          <div class="p-6">
            <h3 class="text-xl font-bold text-stone-900 mb-2">{service.title}</h3>
            <p class="text-stone-600">{service.description}</p>
          </div>
        </div>
      ))}
    </div>
    
    <div class="mt-12 text-center">
        <p class="text-stone-500 mb-4">{t('services.airbnb_intro')}</p>
        <div class="flex justify-center flex-wrap gap-4">
            <a href="#" target="_blank" class="inline-flex items-center text-rose-500 font-semibold hover:text-rose-600 border border-rose-200 px-4 py-2 rounded-lg hover:bg-rose-50 transition">
                <svg viewBox="0 0 32 32" fill="currentColor" class="w-6 h-6 mr-2"><path d="M16 1c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-8.284 0-15-6.716-15-15C1 7.716 7.716 1 16 1zm0 2c-7.18 0-13 5.82-13 13 0 7.18 5.82 13 13 13 7.18 0 13-5.82 13-13 0-7.18-5.82-13-13-13zm0 4c2.83 0 5.56 1.48 7.37 4.1.28.4.19.95-.21 1.23-.39.29-.93.2-1.21-.2C20.48 9.94 18.33 8.84 16 8.84c-2.33 0-4.48 1.1-5.95 3.29-.28.4-.82.49-1.21.2-.4-.28-.49-.83-.21-1.23C10.44 8.48 13.17 7 16 7zm0 4.14c3.41 0 5.48 3.32 4.23 7.38-.85 2.76-3.08 4.34-4.23 4.34-1.15 0-3.38-1.58-4.23-4.34-1.25-4.06.82-7.38 4.23-7.38zm0 2c-1.35 0-2.4 1.76-1.57 4.54.43 1.44 1.1 1.96 1.57 1.96.47 0 1.14-.52 1.57-1.96.83-2.78-.22-4.54-1.57-4.54z"></path></svg>
                {t('services.airbnb_1')}
            </a>
            <a href="#" target="_blank" class="inline-flex items-center text-rose-500 font-semibold hover:text-rose-600 border border-rose-200 px-4 py-2 rounded-lg hover:bg-rose-50 transition">
                 <svg viewBox="0 0 32 32" fill="currentColor" class="w-6 h-6 mr-2"><path d="M16 1c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-8.284 0-15-6.716-15-15C1 7.716 7.716 1 16 1zm0 2c-7.18 0-13 5.82-13 13 0 7.18 5.82 13 13 13 7.18 0 13-5.82 13-13 0-7.18-5.82-13-13-13zm0 4c2.83 0 5.56 1.48 7.37 4.1.28.4.19.95-.21 1.23-.39.29-.93.2-1.21-.2C20.48 9.94 18.33 8.84 16 8.84c-2.33 0-4.48 1.1-5.95 3.29-.28.4-.82.49-1.21.2-.4-.28-.49-.83-.21-1.23C10.44 8.48 13.17 7 16 7zm0 4.14c3.41 0 5.48 3.32 4.23 7.38-.85 2.76-3.08 4.34-4.23 4.34-1.15 0-3.38-1.58-4.23-4.34-1.25-4.06.82-7.38 4.23-7.38zm0 2c-1.35 0-2.4 1.76-1.57 4.54.43 1.44 1.1 1.96 1.57 1.96.47 0 1.14-.52 1.57-1.96.83-2.78-.22-4.54-1.57-4.54z"></path></svg>
                {t('services.airbnb_2')}
            </a>
        </div>
    </div>
  </div>
</section>